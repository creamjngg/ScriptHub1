repeat wait() until game:IsLoaded()
wait(1)
if not game:GetService("Workspace").Terrain["_Game"].Admin.Pads:FindFirstChild(game.Players.LocalPlayer.Name .. "'s admin") then
	if game:GetService("Workspace").Terrain["_Game"].Admin.Pads:FindFirstChild("Touch to get admin") then
		local pad = game:GetService("Workspace").Terrain["_Game"].Admin.Pads:FindFirstChild("Touch to get admin"):FindFirstChild("Head")
		local padCFrame = game:GetService("Workspace").Terrain["_Game"].Admin.Pads:FindFirstChild("Touch to get admin"):FindFirstChild("Head").CFrame
		wait(0.125)
		pad.CanCollide = false
		repeat wait() until game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
		pad.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame
		wait(0.125)
		pad.CFrame = padCFrame
		pad.CanCollide = true
	else
		fireclickdetector(game:GetService("Workspace").Terrain["_Game"].Admin.Regen.ClickDetector, 0)
	end
end
wait(0.5)
function start(plr)
	plr.Chatted:Connect(function(msg)
		if string.sub(msg,1,4) == "logs" or string.sub(msg,1,5) == ":logs" then
			for i=1,250 do
				game.Players:Chat("h "..plr.."You cannot use logs.")
			end
		end
	end)
end

function punish(x)
	game.Players:Chat("punish "..x)
end


for i, v in pairs(game.Players:GetChildren()) do
	if v.Name == game.Players.LocalPlayer.Name then
	else
	for i=1, 5 do
		game.Players:Chat("respawn "..v.Name)
			pcall(punish, v.Name)
		end
		pcall(start, v.Name)
	end
end

fireclickdetector(game:GetService("Workspace").Terrain["_Game"].Admin.Regen.ClickDetector, 0)
wait(1)
if not game:GetService("Workspace").Terrain["_Game"].Admin.Pads:FindFirstChild(game.Players.LocalPlayer.Name .. "'s admin") then
	if game:GetService("Workspace").Terrain["_Game"].Admin.Pads:FindFirstChild("Touch to get admin") then
		local pad = game:GetService("Workspace").Terrain["_Game"].Admin.Pads:FindFirstChild("Touch to get admin"):FindFirstChild("Head")
		local padCFrame = game:GetService("Workspace").Terrain["_Game"].Admin.Pads:FindFirstChild("Touch to get admin"):FindFirstChild("Head").CFrame
		wait(0.125)
		pad.CanCollide = false
		repeat wait() until game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
		pad.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame
		wait(0.125)
		pad.CFrame = padCFrame
		pad.CanCollide = true
	else
		fireclickdetector(game:GetService("Workspace").Terrain["_Game"].Admin.Regen.ClickDetector, 0)
	end
end

game.Players.PlayerAdded:Connect(function(plr)
	wait(1)
	for i=1,10 do
		wait(0.3)
		game.Players:Chat("respawn "..plr.Name)
		pcall(punish, plr.Name)
	end
	pcall(start, plr.Name)
end)

wait(10) do
	game.Players.LocalPlayer.Character.Humanoid.Health = 0
end
repeat wait() until game.Lighting:FindFirstChild(game.Players.LocalPlayer.Name) or game.Players.LocalPlayer.Character.Humanoid.Health == 0 or not game:GetService("Workspace").Terrain["_Game"].Admin.Regen do
	local x = {}
	for _, v in ipairs(game:GetService("HttpService"):JSONDecode(game:HttpGetAsync("https://games.roblox.com/v1/games/" .. game.PlaceId .. "/servers/Public?sortOrder=Asc&limit=100")).data) do
		if type(v) == "table" and v.maxPlayers > v.playing and v.id ~= game.JobId then
			x[#x + 1] = v.id
		end
	end
	if #x > 0 then
		game:GetService("TeleportService"):TeleportToPlaceInstance(game.PlaceId, x[math.random(1, #x)])
	else
		local y ={}
		for _, v in ipairs(game:GetService("HttpService"):JSONDecode(game:HttpGetAsync("https://games.roblox.com/v1/games/" .. game.PlaceId .. "/servers/Public?sortOrder=Asc&limit=100")).data) do
			if type(v) == "table" and v.maxPlayers > v.playing and v.id ~= game.JobId then
				y[#y + 1] = v.id
			end
		end
		if #y > 0 then
			game:GetService("TeleportService"):TeleportToPlaceInstance(game.PlaceId, y[math.random(1, #y)])
		else
			local p ={}
			for _, v in ipairs(game:GetService("HttpService"):JSONDecode(game:HttpGetAsync("https://games.roblox.com/v1/games/" .. game.PlaceId .. "/servers/Public?sortOrder=Asc&limit=100")).data) do
				if type(v) == "table" and v.maxPlayers > v.playing and v.id ~= game.JobId then
					p[#p + 1] = v.id
				end
			end
			if #p > 0 then
				game:GetService("TeleportService"):TeleportToPlaceInstance(game.PlaceId, p[math.random(1, #p)])
			else

			end
		end
	end
end
